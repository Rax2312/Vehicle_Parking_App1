{% extends 'base.html' %}
{% block title %}Edit Parking Spot{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center" style="width:100%;">
    <a class="back-btn" href="{{ url_for('admin.spot_list') }}"
        style="position:relative;top:0;left:0;margin-top:0.2rem;margin-bottom:0.2rem;">&#8592; Back</a>
</div>
<h2 class="management-heading" style="text-align:center;">Edit Parking Spot</h2>
<div class="top-aligned-container w-100">
    <form method="POST" class="row g-3">
        <div class="col-md-4">
            <label class="form-label">Lot</label>
            <select name="lot_id" class="form-control" required>
                {% for lot in lots %}
                <option value="{{ lot.id }}" {% if lot.id==spot.lot_id %}selected{% endif %}>{{ lot.prime_location_name
                    }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-2">
            <label class="form-label">Spot Number</label>
            <input type="number" name="spot_number" class="form-control edit-form-input" value="{{ spot.spot_number }}"
                required>
        </div>
        <div class="col-md-2">
            <label class="form-label">Floor</label>
            <input type="number" name="floor" class="form-control edit-form-input" value="{{ spot.floor }}" min="1">
        </div>
        <div class="col-md-2">
            <label class="form-label">Status</label>
            <select name="status" class="form-control">
                <option value="A" {% if spot.status=='A' %}selected{% endif %}>Available</option>
                <option value="B" {% if spot.status=='B' %}selected{% endif %}>Blocked</option>
                <option value="M" {% if spot.status=='M' %}selected{% endif %}>Maintenance</option>
            </select>
        </div>
        <div class="col-12">
            <button type="submit" class="btn btn-success">Save Changes</button>
            <a href="{{ url_for('admin.spot_list') }}" class="btn btn-secondary ms-2">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}